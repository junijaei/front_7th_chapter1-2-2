# Test Writer Checklist

**버전:** 1.0.0
**생성일:** 2025-01-29
**목적:** Test Writer 에이전트 산출물 검증 기준

---

## 사용 방법

이 체크리스트는 Test Writer가 테스트 코드를 작성한 후, PM이 산출물을 검증할 때 사용한다.
모든 **필수 항목 (⭐)**은 반드시 충족해야 하며, **권장 항목 (✓)**은 품질 향상을 위해 포함하는 것이 좋다.

---

## 1. 파일 구조 (⭐ 필수)

### 1.1 디렉토리 구조
- [ ] ⭐ `tests/unit/` 디렉토리가 생성됨
- [ ] ⭐ `tests/integration/` 디렉토리가 생성됨 (해당 시)
- [ ] ⭐ 디렉토리 경로가 올바름

### 1.2 파일 명명
- [ ] ⭐ 컴포넌트 테스트: `ComponentName.test.tsx`
- [ ] ⭐ 함수 테스트: `functionName.test.ts`
- [ ] ⭐ Hook 테스트: `useHookName.test.ts`
- [ ] ⭐ 통합 테스트: `*.integration.test.tsx`

---

## 2. TDD Red 단계 준수 (⭐ 필수)

### 2.1 테스트 실패 확인
- [ ] ⭐ 모든 테스트를 실행했음
- [ ] ⭐ 모든 테스트가 실패함 (구현 전)
- [ ] ⭐ 실패 이유가 "구현되지 않음"임
- [ ] ⭐ 테스트 코드 자체의 오류로 실패하지 않음

### 2.2 실패 명확성
- [ ] ⭐ 실패 메시지가 명확함
- [ ] ⭐ 무엇이 구현되어야 하는지 알 수 있음
- [ ] ⭐ 에러 스택이 의미 있음

---

## 3. 테스트 코드 완전성 (⭐ 필수)

### 3.1 시나리오 커버리지
- [ ] ⭐ Test Designer의 모든 시나리오가 코드로 작성됨
- [ ] ⭐ 누락된 테스트 케이스가 없음
- [ ] ⭐ 단위 테스트가 모두 작성됨
- [ ] ⭐ 통합 테스트가 작성됨 (해당 시)

### 3.2 테스트 구조
- [ ] ⭐ `describe` 블록으로 그룹화됨
- [ ] ⭐ 각 테스트가 `it` 또는 `test`로 작성됨
- [ ] ⭐ 테스트 설명이 명확함
- [ ] ✓ `beforeEach` / `afterEach` 적절히 사용됨

---

## 4. 컴포넌트 테스트 (⭐ 필수)

### 4.1 렌더링 테스트
- [ ] ⭐ `render()` 사용하여 컴포넌트 렌더링
- [ ] ⭐ `screen` 사용하여 요소 쿼리
- [ ] ⭐ 기본 렌더링 테스트 포함
- [ ] ⭐ Props 변경 시 리렌더링 테스트 포함

### 4.2 사용자 인터랙션
- [ ] ⭐ `userEvent` 사용하여 인터랙션 시뮬레이션
- [ ] ⭐ 클릭, 입력, 키보드 이벤트 테스트
- [ ] ⭐ 콜백 함수 호출 검증
- [ ] ✓ 비동기 인터랙션 처리 (`waitFor` 사용)

### 4.3 조건부 렌더링
- [ ] ⭐ 조건이 true일 때 요소 존재 확인
- [ ] ⭐ 조건이 false일 때 요소 부재 확인
- [ ] ⭐ `queryBy*` 사용하여 부재 확인

---

## 5. 함수 테스트 (⭐ 필수)

### 5.1 입출력 테스트
- [ ] ⭐ 정상 케이스 테스트
- [ ] ⭐ 엣지 케이스 테스트 (빈 값, null, undefined)
- [ ] ⭐ 에러 케이스 테스트
- [ ] ⭐ 반환값 검증

### 5.2 순수 함수 테스트
- [ ] ✓ 동일 입력에 동일 출력 검증
- [ ] ✓ 부수 효과 없음 검증

---

## 6. Hook 테스트 (⭐ 필수)

### 6.1 renderHook 사용
- [ ] ⭐ `renderHook` 사용하여 Hook 테스트
- [ ] ⭐ 초기 상태 검증
- [ ] ⭐ `result.current` 사용하여 값 접근

### 6.2 상태 업데이트
- [ ] ⭐ `act()` 사용하여 상태 업데이트
- [ ] ⭐ 업데이트 후 상태 검증
- [ ] ✓ `rerender` 사용하여 Props 변경 테스트

---

## 7. Mocking (⭐ 필수)

### 7.1 함수 Mocking
- [ ] ⭐ `vi.fn()` 사용하여 Mock 함수 생성
- [ ] ⭐ `expect().toHaveBeenCalled()` 사용하여 호출 검증
- [ ] ⭐ `expect().toHaveBeenCalledWith()` 사용하여 인자 검증
- [ ] ⭐ `vi.clearAllMocks()` 사용하여 Mock 리셋

### 7.2 모듈 Mocking
- [ ] ⭐ `vi.mock()` 사용하여 모듈 Mocking (해당 시)
- [ ] ⭐ Mock 구현이 올바름
- [ ] ✓ `vi.unmock()` 사용하여 복원 (필요 시)

### 7.3 API Mocking
- [ ] ✓ MSW 설정됨 (API 호출 시)
- [ ] ✓ HTTP 핸들러 작성됨
- [ ] ✓ `server.listen()` / `server.close()` 설정됨

### 7.4 날짜/시간 Mocking
- [ ] ✓ `vi.useFakeTimers()` 사용됨 (해당 시)
- [ ] ✓ `vi.setSystemTime()` 사용하여 날짜 고정
- [ ] ✓ `vi.useRealTimers()` 사용하여 복원

---

## 8. 통합 테스트 (⭐ 필수)

### 8.1 컴포넌트 통합
- [ ] ⭐ 부모-자식 컴포넌트 함께 렌더링
- [ ] ⭐ Props 전달 테스트
- [ ] ⭐ 콜백 호출 테스트

### 8.2 전역 상태 통합
- [ ] ⭐ Zustand 스토어 테스트 설정됨 (해당 시)
- [ ] ⭐ 스토어 읽기 테스트
- [ ] ⭐ 스토어 쓰기 테스트
- [ ] ✓ 스토어 격리 설정됨

---

## 9. 테스트 품질 (⭐ 필수)

### 9.1 가독성
- [ ] ⭐ 테스트 설명이 명확함
- [ ] ⭐ Given-When-Then 구조가 드러남
- [ ] ⭐ 변수명이 의미 있음
- [ ] ✓ 주석이 적절히 사용됨 (필요 시)

### 9.2 독립성
- [ ] ⭐ 각 테스트가 독립적으로 실행 가능함
- [ ] ⭐ 테스트 간 의존성이 없음
- [ ] ⭐ 테스트 순서에 관계없이 동작함
- [ ] ⭐ Setup/Teardown이 올바름

### 9.3 유지보수성
- [ ] ✓ 공통 Setup 함수 사용됨
- [ ] ✓ 중복 코드가 최소화됨
- [ ] ✓ 테스트 데이터가 명확함

---

## 10. 테스트 커버리지 (⭐ 필수)

### 10.1 커버리지 목표
- [ ] ⭐ 테스트 커버리지 70% 이상 달성 가능
- [ ] ⭐ 모든 컴포넌트가 테스트됨
- [ ] ⭐ 모든 주요 함수가 테스트됨
- [ ] ✓ Hook이 모두 테스트됨 (해당 시)

### 10.2 커버리지 측정
- [ ] ✓ `vitest --coverage` 실행 가능
- [ ] ✓ 커버리지 리포트 확인 가능

---

## 11. 에러 처리 (⭐ 필수)

### 11.1 에러 케이스
- [ ] ⭐ 유효하지 않은 입력 테스트
- [ ] ⭐ 에러 메시지 검증
- [ ] ⭐ `expect().toThrow()` 사용 (함수 에러 시)
- [ ] ✓ 에러 복구 시나리오 테스트

### 11.2 비동기 에러
- [ ] ✓ `rejects` 사용하여 Promise 에러 테스트
- [ ] ✓ `waitFor` 사용하여 비동기 에러 대기

---

## 12. 접근성 테스트 (✓ 권장)

### 12.1 Role 및 레이블
- [ ] ✓ `getByRole()` 사용하여 요소 쿼리
- [ ] ✓ `getByLabelText()` 사용하여 레이블 확인
- [ ] ✓ ARIA 속성 검증

### 12.2 키보드 네비게이션
- [ ] ✓ `userEvent.tab()` 사용하여 Tab 테스트
- [ ] ✓ `userEvent.keyboard()` 사용하여 키보드 이벤트 테스트

---

## 13. 코드 스타일 (✓ 권장)

### 13.1 일관성
- [ ] ✓ 테스트 파일 형식이 일관됨
- [ ] ✓ 명명 규칙이 일관됨
- [ ] ✓ import 순서가 일관됨

### 13.2 ESLint/Prettier
- [ ] ✓ ESLint 규칙 통과
- [ ] ✓ Prettier 포맷팅 적용

---

## 14. 테스트 실행 (⭐ 필수)

### 14.1 로컬 실행
- [ ] ⭐ `npm test` 또는 `vitest` 실행됨
- [ ] ⭐ 모든 테스트가 실패함
- [ ] ⭐ 실패 원인이 "구현 안됨"임
- [ ] ⭐ 테스트 실행 시간이 합리적임

### 14.2 CI/CD 준비
- [ ] ✓ CI 환경에서 실행 가능함
- [ ] ✓ 테스트 결과 리포팅 가능함

---

## 15. 문서화 (✓ 권장)

### 15.1 테스트 설명
- [ ] ✓ 복잡한 테스트에 주석 추가됨
- [ ] ✓ Mock 설정 이유 설명됨
- [ ] ✓ 특수 케이스 이유 설명됨

### 15.2 README
- [ ] ✓ 테스트 실행 방법 문서화됨 (프로젝트 README)
- [ ] ✓ Mock 설정 방법 문서화됨 (필요 시)

---

## 종합 평가

### 필수 항목 (⭐) 충족률
- [ ] 모든 필수 항목 충족 (100%)
- [ ] 90% 이상 충족 (경미한 수정 필요)
- [ ] 80% 미만 충족 (재작성 필요)

### 권장 항목 (✓) 충족률
- [ ] 80% 이상 충족 (우수)
- [ ] 60% 이상 충족 (양호)
- [ ] 60% 미만 충족 (개선 권장)

---

## 최종 체크

### 산출물 완성도
- [ ] ⭐ 테스트 코드가 완전함
- [ ] ⭐ 모든 테스트가 실패함 (Red 단계)
- [ ] ⭐ Implementer가 구현을 시작할 수 있음

### 다음 단계 준비
- [ ] ⭐ Implementer에게 전달할 준비 완료
- [ ] ⭐ 테스트 실행 방법이 명확함
- [ ] ⭐ 티켓 번호가 정확함

---

**검증 완료 후 PM이 Git 커밋을 수행한다.**
