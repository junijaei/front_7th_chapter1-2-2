# Git Commit Convention

**버전:** 1.0.0
**생성일:** 2025-10-28
**목적:** 프로젝트 전반에 적용되는 Git 커밋 메시지 작성 규칙

---

## 1. 기본 원칙

모든 커밋 메시지는 **일관성**, **명확성**, **추적 가능성**을 보장해야 한다.
모든 커밋 메시지는 한국어로 작성한다.
PM 에이전트는 서브에이전트의 산출물을 커밋할 때 이 규칙을 반드시 따라야 한다.

---

## 2. 커밋 메시지 형식

### 2.1 기본 구조

```
<type>(<ticket-number>): [Agent명] <subject>

<body>
```

#### 구성 요소

- **type**: 커밋 타입 (필수)
- **ticket-number**: 티켓/이슈 번호 (필수)
- **Agent명**: 작업을 수행한 에이전트 이름 (필수, 에이전트 작업인 경우)
- **subject**: 작업 내용 요약 (필수, 50자 이내)
- **body**: 상세 설명 (선택, 각 줄 72자 이내)

---

## 3. 커밋 타입 (Type)

| Type       | 설명             | 사용 시점                            |
| ---------- | ---------------- | ------------------------------------ |
| `feat`     | 새로운 기능 추가 | 코드 구현, 기능 완성                 |
| `docs`     | 문서 작업        | PRD, 아키텍처, 설계 문서 작성        |
| `design`   | UX/UI 설계       | UX 흐름, 와이어프레임, 디자인 시스템 |
| `plan`     | 계획 및 명세     | Epic/Story 작성, Sprint 계획         |
| `test`     | 테스트 추가/수정 | QA 테스트, 검증 리포트               |
| `refactor` | 코드 리팩토링    | 기능 변경 없이 코드 개선             |
| `fix`      | 버그 수정        | 오류 해결, 이슈 수정                 |
| `chore`    | 기타 작업        | 빌드, 설정, 도구 변경                |
| `index`    | 문서 인덱싱      | Doc Keeper의 인덱싱 작업             |

---

## 4. 티켓 번호 (Ticket Number)

### 4.1 형식

- **형식**: `PROJ-XXX` (프로젝트코드-숫자)
- **예시**: `PROJ-001`, `PROJ-042`, `FEAT-123`

### 4.2 번호 부여 규칙

- 에이전트별 주요 산출물마다 새로운 티켓 번호 발급
- PM이 워크플로우 시작 시 티켓 번호 범위 할당
- 순차적으로 증가하는 번호 사용

### 4.3 티켓과 에이전트 매핑 예시

```
PROJ-001: PRD 작성 (PM)
PROJ-002: 아키텍처 설계 (Architect)
PROJ-003: UX 설계 (UX Expert)
PROJ-004: Epic/Story 정의 (PO)
PROJ-005: Story 상세화 (Story Refiner)
PROJ-006: Sprint 1 계획 (Scrum Master)
PROJ-007: Story-001 구현 (Developer)
PROJ-008: Story-001 테스트 (QA)
...
```

---

## 5. 작성 가이드라인

### 5.1 Subject (제목)

- **길이**: 50자 이내
- **형식**: 명령문 사용 ("추가함" ❌ / "추가" ✅)
- **끝**: 마침표 없음
- **명확성**: 무엇을 했는지 명확히 표현

### 5.2 Body (본문)

- **선택사항**: 상세 설명이 필요한 경우만 작성
- **길이**: 각 줄 72자 이내
- **내용**:
  - 무엇을 변경했는지
  - 왜 변경했는지
  - 주요 변경 사항 목록 (불릿 포인트)

### 5.3 금지 사항

- 모호한 표현 사용 금지 ("수정", "변경", "업데이트")
- 여러 작업을 하나의 커밋에 포함 금지
- 에이전트 작업 시 에이전트명 누락 금지
- 티켓 번호 누락 금지

---

## 6. PM의 커밋 책임

### 6.1 커밋 시점

PM은 각 서브에이전트의 산출물이 **체크리스트 검증을 통과한 직후** 즉시 커밋한다.

### 6.2 커밋 단위

- **원칙**: 하나의 에이전트 작업 = 하나의 커밋
- **예외**: 에이전트가 여러 독립적인 산출물을 생성한 경우 산출물별 개별 커밋 가능

### 6.3 커밋 체크리스트

PM이 커밋 전 확인해야 할 사항:

- [ ] 티켓 번호가 올바르게 부여되었는가
- [ ] 커밋 타입이 적절한가
- [ ] 에이전트명이 정확히 표기되었는가
- [ ] Subject가 명확하고 50자 이내인가
- [ ] 산출물 파일이 올바른 경로에 저장되었는가
- [ ] Body에 주요 변경사항이 명시되었는가

---

## 7. 도구 및 자동화

### 7.1 Commitlint (선택사항)

프로젝트에서 commitlint를 사용하는 경우, 다음 설정을 권장한다:

```javascript
module.exports = {
  extends: ['@commitlint/config-conventional'],
  rules: {
    'type-enum': [
      2,
      'always',
      ['feat', 'docs', 'design', 'plan', 'test', 'refactor', 'fix', 'chore', 'index'],
    ],
    'subject-max-length': [2, 'always', 50],
  },
};
```

### 7.2 템플릿

`.gitmessage` 템플릿 사용 권장:

```
# <type>(<ticket-number>): [Agent명] <subject>
#
# <body>
#
# Type: feat, docs, design, plan, test, refactor, fix, chore, index
# Ticket: PROJ-XXX
# Agent: PM, Architect, UX Expert, PO, Story Refiner, Scrum Master, Developer, QA, Doc Keeper
```

---

## 8. 예외 상황

### 8.1 긴급 수정

긴급 수정이 필요한 경우에도 티켓 번호와 타입은 반드시 포함해야 한다.

### 8.2 초기 설정

프로젝트 초기 설정 커밋은 티켓 번호 없이 진행 가능하다.

---

**이 규칙은 모든 프로젝트 참여자와 PM 에이전트가 반드시 준수해야 하는 표준이다.**
